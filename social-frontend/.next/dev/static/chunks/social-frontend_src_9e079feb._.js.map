{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalsharma/Downloads/Social-Media-FullStack/social-frontend/src/components/CreatePost.tsx"],"sourcesContent":["// components/CreatePost.tsx\n\"use client\";\nimport { useState, FormEvent, ChangeEvent } from \"react\";\nimport api from \"@/lib/api\";\n\ninterface Props {\n    onPostCreated: () => void;\n}\n\nexport default function CreatePost({ onPostCreated }: Props) {\n    const [content, setContent] = useState(\"\");\n    const [postType, setPostType] = useState<\"TEXT\" | \"IMAGE\" | \"VIDEO\">(\"TEXT\");\n    const [images, setImages] = useState<FileList | null>(null);\n    const [video, setVideo] = useState<File | null>(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(\"\");\n\n    const handleSubmit = async (e: FormEvent) => {\n        e.preventDefault();\n        if (!content.trim()) {\n            setError(\"Content cannot be empty\");\n            return;\n        }\n\n        setLoading(true);\n        setError(\"\");\n\n        try {\n            const formData = new FormData();\n\n            const requestBlob = new Blob(\n                [JSON.stringify({ content, postType })],\n                { type: \"application/json\" }\n            );\n            formData.append(\"request\", requestBlob);\n\n            if (images && postType === \"IMAGE\") {\n                Array.from(images).forEach((file) => {\n                    formData.append(\"images\", file);\n                });\n            }\n\n            if (video && postType === \"VIDEO\") {\n                formData.append(\"video\", video);\n            }\n\n            // ‚úÖ Don't set Content-Type manually for FormData\n            const response = await api.post(\"/api/posts\", formData);\n\n            console.log(\"Post created:\", response.data);\n\n            setContent(\"\");\n            setImages(null);\n            setVideo(null);\n            setPostType(\"TEXT\");\n            onPostCreated();\n        } catch (err: any) {\n            console.error(\"Error:\", err.response?.data || err.message);\n            setError(err.response?.data?.message || \"Failed to create post\");\n        } finally {\n            setLoading(false);\n        }\n    };\n    const handleImageChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setImages(e.target.files);\n        setPostType(\"IMAGE\");\n    };\n\n    const handleVideoChange = (e: ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        setVideo(file || null);\n        setPostType(\"VIDEO\");\n    };\n\n    return (\n        <div className=\"card p-5 mb-8 shadow-md border-surface-200 bg-white\">\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div className=\"flex space-x-4\">\n                    <div className=\"w-10 h-10 bg-primary-100 rounded-full flex-shrink-0 flex items-center justify-center text-primary-600 font-bold\">\n                        {/* Avatar placeholder or user inital */}\n                        ?\n                    </div>\n                    <textarea\n                        value={content}\n                        onChange={(e) => setContent(e.target.value)}\n                        placeholder=\"What's happening?\"\n                        rows={2}\n                        className=\"w-full bg-transparent border-none focus:ring-0 text-lg placeholder-surface-400 resize-none pt-2\"\n                    />\n                </div>\n\n                <div className=\"flex items-center justify-between pt-3 border-t border-surface-100\">\n                    <div className=\"flex items-center space-x-2\">\n                        <label className=\"flex items-center space-x-2 cursor-pointer p-2 hover:bg-primary-50 rounded-xl transition-all group\">\n                            <input\n                                type=\"file\"\n                                multiple\n                                accept=\"image/*\"\n                                onChange={handleImageChange}\n                                className=\"hidden\"\n                            />\n                            <span className=\"text-xl group-hover:scale-110 transition-transform\">üñºÔ∏è</span>\n                            <span className=\"text-sm font-semibold text-surface-600 group-hover:text-primary-600\">Photo</span>\n                        </label>\n\n                        <label className=\"flex items-center space-x-2 cursor-pointer p-2 hover:bg-blue-50 rounded-xl transition-all group\">\n                            <input\n                                type=\"file\"\n                                accept=\"video/*\"\n                                onChange={handleVideoChange}\n                                className=\"hidden\"\n                            />\n                            <span className=\"text-xl group-hover:scale-110 transition-transform\">üé•</span>\n                            <span className=\"text-sm font-semibold text-surface-600 group-hover:text-blue-600\">Video</span>\n                        </label>\n                    </div>\n\n                    <button\n                        type=\"submit\"\n                        disabled={loading || !content.trim()}\n                        className=\"btn-primary px-6 py-2 rounded-full font-bold disabled:bg-surface-200 disabled:text-surface-400\"\n                    >\n                        {loading ? \"...\" : \"Post\"}\n                    </button>\n                </div>\n\n                {(images || video) && (\n                    <div className=\"bg-surface-50 p-3 rounded-xl flex items-center justify-between border border-surface-200 animate-in\">\n                        <div className=\"flex items-center space-x-2 text-sm text-surface-600 font-medium\">\n                            {images ? (\n                                <><span>üì∏</span> <span>{images.length} images selected</span></>\n                            ) : (\n                                <><span>üé¨</span> <span>{video?.name}</span></>\n                            )}\n                        </div>\n                        <button\n                            type=\"button\"\n                            onClick={() => { setImages(null); setVideo(null); setPostType(\"TEXT\"); }}\n                            className=\"text-red-500 hover:bg-red-50 p-1 rounded-lg\"\n                        >\n                            ‚úï\n                        </button>\n                    </div>\n                )}\n\n                {error && (\n                    <div className=\"bg-red-50 text-red-600 text-xs p-2 rounded-lg border border-red-100\">\n                        {error}\n                    </div>\n                )}\n            </form>\n        </div>\n    );\n}\n\n"],"names":["useState","FormEvent","ChangeEvent","api","Props","onPostCreated","CreatePost","content","setContent","postType","setPostType","images","setImages","FileList","video","setVideo","File","loading","setLoading","error","setError","handleSubmit","e","preventDefault","trim","formData","FormData","requestBlob","Blob","JSON","stringify","type","append","Array","from","forEach","file","response","post","console","log","data","err","message","handleImageChange","HTMLInputElement","target","files","handleVideoChange","value","length","name"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalsharma/Downloads/Social-Media-FullStack/social-frontend/src/components/PostCard.tsx"],"sourcesContent":["// components/PostCard.tsx\n\"use client\";\nimport { useState } from \"react\";\nimport { auth } from \"@/lib/auth\";\nimport { Post } from \"@/lib/types\";\nimport api from \"@/lib/api\";\n\ninterface Props {\n    post: Post;\n    onUpdate: (updatedPost: Post) => void;\n}\n\nexport default function PostCard({ post, onUpdate }: Props) {\n    const [comment, setComment] = useState(\"\");\n    const [showComments, setShowComments] = useState(false);\n    const currentUser = auth.getUser();\n\n    // ‚úÖ ADD THIS: Build full URL for media\n    const getMediaUrl = (path: string) => {\n        if (!path) return \"\";\n        if (path.startsWith(\"http\")) return path;\n        return `http://localhost:8082${path}`; // Post Service URL\n    };\n\n    const toggleLike = async () => {\n        // Optimistic Update\n        const originalPost = { ...post };\n        const isLiked = !post.isLiked;\n        const likesCount = isLiked ? post.likesCount + 1 : Math.max(0, post.likesCount - 1);\n\n        onUpdate({\n            ...post,\n            isLiked,\n            likesCount\n        });\n\n        try {\n            const endpoint = `/api/posts/${post.id}/like`;\n            const response = post.isLiked\n                ? await api.delete<Post>(endpoint)\n                : await api.post<Post>(endpoint);\n\n            // Update with actual data from server\n            onUpdate(response.data);\n        } catch (error) {\n            console.error(\"Failed to toggle like:\", error);\n            // Revert on error\n            onUpdate(originalPost);\n        }\n    };\n\n    const addComment = async () => {\n        if (!comment.trim() || !currentUser) return;\n\n        const originalPost = { ...post };\n        const newCommentText = comment;\n        setComment(\"\"); // Clear immediately\n\n        // Optimistic Update\n        const tempComment = {\n            id: `temp-${Date.now()}`,\n            userId: currentUser.id!,\n            username: currentUser.username!,\n            content: newCommentText,\n            createdAt: new Date().toISOString()\n        };\n\n        const updatedPost = {\n            ...post,\n            commentsCount: post.commentsCount + 1,\n            recentComments: [...(post.recentComments || []), tempComment]\n        };\n\n        onUpdate(updatedPost);\n\n        try {\n            const response = await api.post<Post>(`/api/posts/${post.id}/comments`, {\n                content: newCommentText,\n            });\n            // Update with actual data from server\n            onUpdate(response.data);\n        } catch (error) {\n            console.error(\"Failed to add comment:\", error);\n            // Revert on error\n            onUpdate(originalPost);\n            setComment(newCommentText); // Put text back so user doesn't lose it\n        }\n    };\n\n    // ‚úÖ FIX: Use post.images instead of post.imageUrls\n    const images = post.images || [];\n    const video = post.videoUrl;\n\n    return (\n        <div className=\"card mb-6 animate-in bg-white border-surface-200\">\n            {/* Header */}\n            <div className=\"p-4 flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                    <div className=\"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-bold overflow-hidden mr-3\">\n                        {post.userProfilePicture ? (\n                            <img\n                                src={getMediaUrl(post.userProfilePicture)}\n                                alt={post.username}\n                                className=\"w-full h-full object-cover\"\n                            />\n                        ) : (\n                            post.username.charAt(0).toUpperCase()\n                        )}\n                    </div>\n                    <div>\n                        <p className=\"font-bold text-surface-900 leading-tight hover:underline cursor-pointer\">\n                            {post.username}\n                        </p>\n                        <p className=\"text-[11px] font-medium text-surface-400 uppercase tracking-wider\">\n                            {new Date(post.createdAt).toLocaleDateString()} ‚Ä¢ {new Date(post.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                        </p>\n                    </div>\n                </div>\n                <button className=\"text-surface-400 hover:text-surface-600 p-1 rounded-full hover:bg-surface-50 transition-colors\">\n                    <span className=\"text-lg\">‚Ä¢‚Ä¢‚Ä¢</span>\n                </button>\n            </div>\n\n            {/* Content */}\n            <div className=\"px-4 pb-3\">\n                <p className=\"text-surface-800 leading-relaxed whitespace-pre-wrap\">{post.content}</p>\n            </div>\n\n            {/* ‚úÖ FIX: Images - use post.images and getMediaUrl */}\n            {images.length > 0 && (\n                <div className={`grid gap-1 mb-2 px-1 ${images.length > 1 ? 'grid-cols-2' : 'grid-cols-1'}`}>\n                    {images.map((url, idx) => (\n                        <img\n                            key={idx}\n                            src={getMediaUrl(url)}\n                            alt=\"Post content\"\n                            className={`w-full object-cover ${images.length === 1 ? 'max-h-[500px] rounded-lg' : 'h-48 rounded-md hover:opacity-95 transition-opacity'}`}\n                            onError={(e) => {\n                                console.error(\"Image failed to load:\", url);\n                                e.currentTarget.style.display = 'none';\n                            }}\n                        />\n                    ))}\n                </div>\n            )}\n\n            {/* ‚úÖ FIX: Video - use getMediaUrl */}\n            {video && (\n                <div className=\"px-1 mb-2\">\n                    <video controls className=\"w-full rounded-lg max-h-[500px] bg-black\">\n                        <source src={getMediaUrl(video)} />\n                    </video>\n                </div>\n            )}\n\n            {/* Actions */}\n            <div className=\"px-4 py-3 flex items-center justify-between border-t border-surface-50\">\n                <div className=\"flex items-center space-x-1\">\n                    <button\n                        onClick={toggleLike}\n                        className={`flex items-center space-x-2 px-3 py-1.5 rounded-full transition-all ${post.isLiked\n                            ? \"bg-red-50 text-red-600 font-bold\"\n                            : \"text-surface-600 hover:bg-red-50 hover:text-red-500\"\n                            }`}\n                    >\n                        <span className=\"text-lg\">{post.isLiked ? \"‚ù§Ô∏è\" : \"ü§ç\"}</span>\n                        <span className=\"text-sm\">{post.likesCount}</span>\n                    </button>\n\n                    <button\n                        onClick={() => setShowComments(!showComments)}\n                        className={`flex items-center space-x-2 px-3 py-1.5 rounded-full transition-all ${showComments\n                            ? \"bg-primary-50 text-primary-600 font-bold\"\n                            : \"text-surface-600 hover:bg-primary-50 hover:text-primary-600\"\n                            }`}\n                    >\n                        <span className=\"text-lg\">üí¨</span>\n                        <span className=\"text-sm\">{post.commentsCount}</span>\n                    </button>\n\n                    <button className=\"flex items-center space-x-2 text-surface-600 hover:bg-green-50 hover:text-green-600 px-3 py-1.5 rounded-full transition-all\">\n                        <span className=\"text-lg\">üîÅ</span>\n                        <span className=\"text-sm\">{post.sharesCount}</span>\n                    </button>\n                </div>\n\n                <button className=\"text-surface-400 hover:text-primary-600 p-2 rounded-full hover:bg-primary-50 transition-all\">\n                    <span>üîñ</span>\n                </button>\n            </div>\n\n            {/* Comments Section */}\n            {showComments && (\n                <div className=\"px-4 pb-4 border-t border-surface-50 bg-surface-50/30\">\n                    <div className=\"pt-4 space-y-3\">\n                        {post.recentComments?.map((c) => (\n                            <div key={c.id} className=\"flex space-x-3 group\">\n                                <div className=\"w-8 h-8 rounded-full bg-surface-200 flex-shrink-0 flex items-center justify-center text-[10px] font-bold\">\n                                    {c.username.charAt(0).toUpperCase()}\n                                </div>\n                                <div className=\"bg-white px-3 py-2 rounded-2xl rounded-tl-none border border-surface-100 shadow-sm flex-grow\">\n                                    <p className=\"text-xs font-bold text-surface-900 mb-0.5\">{c.username}</p>\n                                    <p className=\"text-[13px] text-surface-700\">{c.content}</p>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className=\"flex mt-4 items-center space-x-2 bg-white p-1 pl-3 rounded-full border border-surface-200 focus-within:ring-2 focus-within:ring-primary-100 transition-all\">\n                        <input\n                            value={comment}\n                            onChange={(e) => setComment(e.target.value)}\n                            placeholder=\"Write a comment...\"\n                            className=\"flex-grow bg-transparent border-none focus:ring-0 text-sm py-1.5\"\n                        />\n                        <button\n                            onClick={addComment}\n                            disabled={!comment.trim()}\n                            className=\"bg-primary-600 text-white p-2 rounded-full hover:bg-primary-700 disabled:bg-surface-200 transition-colors\"\n                        >\n                            <span className=\"block scale-75\">‚û§</span>\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}"],"names":["useState","auth","Post","api","Props","post","onUpdate","updatedPost","PostCard","comment","setComment","showComments","setShowComments","currentUser","getUser","getMediaUrl","path","startsWith","toggleLike","originalPost","isLiked","likesCount","Math","max","endpoint","id","response","delete","data","error","console","addComment","trim","newCommentText","tempComment","Date","now","userId","username","content","createdAt","toISOString","commentsCount","recentComments","images","video","videoUrl","userProfilePicture","charAt","toUpperCase","toLocaleDateString","toLocaleTimeString","hour","minute","length","map","url","idx","e","currentTarget","style","display","sharesCount","c","target","value"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 760, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalsharma/Downloads/Social-Media-FullStack/social-frontend/src/components/SuggestedUsers.tsx"],"sourcesContent":["// components/SuggestedUsers.tsx\n\"use client\";\nimport { useState, useEffect } from \"react\";\nimport api from \"@/lib/api\";\nimport { User } from \"@/lib/types\";\nimport Link from \"next/link\";\nimport { auth } from \"@/lib/auth\";\n\nexport default function SuggestedUsers() {\n    const [suggestions, setSuggestions] = useState<User[]>([]);\n    const [loading, setLoading] = useState(true);\n    const currentUser = auth.getUser();\n\n    useEffect(() => {\n        loadSuggestions();\n    }, []);\n\n    const loadSuggestions = async () => {\n        try {\n            // First try suggestions endpoint\n            const res = await api.get<User[]>(\"/api/users/suggestions\");\n            setSuggestions(res.data.slice(0, 5));\n        } catch (error) {\n            // Fallback: search or general user fetch\n            try {\n                const res = await api.get<User[]>(\"/api/users\");\n                setSuggestions(res.data.filter(u => u.username !== currentUser?.username).slice(0, 5));\n            } catch (e) { }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleFollow = async (userId: string) => {\n        try {\n            await api.post(`/api/users/follow/${userId}`);\n            // Optimistically update or reload\n            loadSuggestions();\n        } catch (error) {\n            console.error(\"Failed to follow:\", error);\n        }\n    };\n\n    if (loading) return (\n        <div className=\"animate-pulse space-y-4\">\n            <div className=\"h-4 bg-surface-100 rounded w-1/2\"></div>\n            {[1, 2, 3].map(i => (\n                <div key={i} className=\"flex items-center space-x-3\">\n                    <div className=\"w-10 h-10 bg-surface-100 rounded-full\"></div>\n                    <div className=\"flex-grow space-y-2\">\n                        <div className=\"h-3 bg-surface-100 rounded w-3/4\"></div>\n                        <div className=\"h-2 bg-surface-100 rounded w-1/2\"></div>\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n\n    if (suggestions.length === 0) return null;\n\n    return (\n        <div className=\"card p-5 bg-white border-surface-100 shadow-sm animate-in\">\n            <h3 className=\"font-black text-surface-900 text-xs uppercase tracking-widest mb-5 flex items-center justify-between\">\n                <span>Who to follow</span>\n                <Link href=\"/discover\" className=\"text-[10px] text-primary-600 hover:underline\">Explore</Link>\n            </h3>\n\n            <div className=\"space-y-5\">\n                {suggestions.map((user) => (\n                    <div key={user.id} className=\"flex items-center justify-between group\">\n                        <Link href={`/profile/${user.username}`} className=\"flex items-center space-x-3 flex-grow\">\n                            <div className=\"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-bold overflow-hidden border border-surface-100\">\n                                {user.profilePicture ? (\n                                    <img\n                                        src={user.profilePicture.startsWith('http') ? user.profilePicture : `http://localhost:8082${user.profilePicture}`}\n                                        alt={user.username}\n                                        className=\"w-full h-full object-cover\"\n                                    />\n                                ) : (\n                                    user.username.charAt(0).toUpperCase()\n                                )}\n                            </div>\n                            <div className=\"min-w-0\">\n                                <p className=\"text-sm font-bold text-surface-900 truncate tracking-tight\">{user.fullName || user.username}</p>\n                                <p className=\"text-[11px] text-surface-400 font-medium truncate\">@{user.username}</p>\n                            </div>\n                        </Link>\n\n                        <button\n                            onClick={() => handleFollow(user.id)}\n                            className=\"text-xs font-black text-primary-600 hover:bg-primary-50 px-3 py-1.5 rounded-full transition-all\"\n                        >\n                            Follow\n                        </button>\n                    </div>\n                ))}\n            </div>\n\n            <button className=\"w-full mt-6 py-2.5 text-xs font-bold text-surface-500 hover:bg-surface-50 rounded-xl transition-colors border border-surface-100\">\n                Show more\n            </button>\n        </div>\n    );\n}\n"],"names":["useState","useEffect","api","User","Link","auth","SuggestedUsers","suggestions","setSuggestions","loading","setLoading","currentUser","getUser","loadSuggestions","res","get","data","slice","error","filter","u","username","e","handleFollow","userId","post","console","map","i","length","user","id","profilePicture","startsWith","charAt","toUpperCase","fullName"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1004, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalsharma/Downloads/Social-Media-FullStack/social-frontend/src/app/%28app%29/feed/page.tsx"],"sourcesContent":["// app/(app)/feed/page.tsx\n\"use client\";\nimport { useEffect, useState } from \"react\";\nimport api from \"@/lib/api\";\nimport { Post, PageResponse } from \"@/lib/types\";\nimport CreatePost from \"@/components/CreatePost\";\nimport PostCard from \"@/components/PostCard\";\n\nimport SuggestedUsers from \"@/components/SuggestedUsers\";\nimport Link from \"next/link\";\n\nexport default function FeedPage() {\n    const [posts, setPosts] = useState<Post[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [page, setPage] = useState(0);\n    const [hasMore, setHasMore] = useState(true);\n\n    const loadFeed = async (pageNum: number = 0) => {\n        try {\n            const response = await api.get<PageResponse<Post>>(\"/api/posts/feed\", {\n                params: { page: pageNum, size: 20 },\n            });\n\n            if (pageNum === 0) {\n                setPosts(response.data.content);\n            } else {\n                setPosts((prev) => [...prev, ...response.data.content]);\n            }\n\n            setHasMore(response.data.number < response.data.totalPages - 1);\n        } catch (error) {\n            console.error(\"Failed to load feed:\", error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        loadFeed(0);\n    }, []);\n\n    const handlePostUpdate = (updatedPost: Post) => {\n        setPosts((prev) =>\n            prev.map((p) => (p.id === updatedPost.id ? updatedPost : p))\n        );\n    };\n\n    const loadMore = () => {\n        const nextPage = page + 1;\n        setPage(nextPage);\n        loadFeed(nextPage);\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex flex-col items-center justify-center py-20 space-y-4\">\n                <div className=\"w-12 h-12 border-4 border-primary-100 border-t-primary-600 rounded-full animate-spin\" />\n                <p className=\"text-surface-500 font-bold uppercase tracking-widest text-xs\">Curating your feed...</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            <div className=\"lg:col-span-2\">\n                <CreatePost onPostCreated={() => loadFeed(0)} />\n\n                <div className=\"space-y-4\">\n                    {posts.length > 0 ? (\n                        posts.map((post) => (\n                            <PostCard key={post.id} post={post} onUpdate={handlePostUpdate} />\n                        ))\n                    ) : (\n                        <div className=\"text-center py-20 bg-white rounded-2xl border border-dashed border-surface-200\">\n                            <span className=\"text-4xl block mb-4\">üè†</span>\n                            <p className=\"text-surface-500 font-medium\">Your feed is quiet. Try following some people!</p>\n                            <Link href=\"/discover\" className=\"mt-4 inline-block btn-primary px-6 py-2 rounded-full text-sm\">\n                                Find People\n                            </Link>\n                        </div>\n                    )}\n                </div>\n\n                {hasMore && (\n                    <div className=\"text-center mt-12 pb-12\">\n                        <button\n                            onClick={loadMore}\n                            className=\"px-8 py-3 bg-white border border-surface-200 text-surface-600 font-bold rounded-full hover:bg-primary-50 hover:text-primary-600 hover:border-primary-200 transition-all shadow-sm active:scale-95\"\n                        >\n                            Load More Posts\n                        </button>\n                    </div>\n                )}\n            </div>\n\n            <div className=\"hidden lg:block space-y-6\">\n                <SuggestedUsers />\n\n                <div className=\"card p-6 bg-white border-surface-100 shadow-sm\">\n                    <h3 className=\"font-black text-surface-900 text-xs uppercase tracking-widest mb-4\">Trending</h3>\n                    <div className=\"space-y-4\">\n                        {['#WorldNews', '#Technology', '#Sport', '#Design'].map(tag => (\n                            <div key={tag} className=\"cursor-pointer group\">\n                                <p className=\"text-sm font-bold text-surface-800 group-hover:text-primary-600 transition-colors\">{tag}</p>\n                                <p className=\"text-[10px] text-surface-400 font-bold tracking-tight\">2.4k Posts</p>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                <div className=\"px-4 text-[10px] text-surface-400 font-bold uppercase tracking-wider space-y-1\">\n                    <p>¬© 2024 SOCIAL MEDIA</p>\n                    <div className=\"flex space-x-3\">\n                        <span className=\"hover:underline cursor-pointer\">Privacy</span>\n                        <span className=\"hover:underline cursor-pointer\">Terms</span>\n                        <span className=\"hover:underline cursor-pointer\">Safety</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\n"],"names":["useEffect","useState","api","Post","PageResponse","CreatePost","PostCard","SuggestedUsers","Link","FeedPage","posts","setPosts","loading","setLoading","page","setPage","hasMore","setHasMore","loadFeed","pageNum","response","get","params","size","data","content","prev","number","totalPages","error","console","handlePostUpdate","updatedPost","map","p","id","loadMore","nextPage","length","post","tag"],"mappings":"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","ignoreList":[]}}]
}