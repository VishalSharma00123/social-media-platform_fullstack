{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalsharma/Downloads/Social-Media-FullStack/social-frontend/src/app/%28app%29/messages/page.tsx"],"sourcesContent":["// app/(app)/messages/page.tsx\n\"use client\";\nimport { useEffect, useState } from \"react\";\nimport api from \"@/lib/api\";\nimport { Conversation } from \"@/lib/types\";\nimport Link from \"next/link\";\nimport { auth } from \"@/lib/auth\";\n\nexport default function ConversationsPage() {\n    const [conversations, setConversations] = useState<Conversation[]>([]);\n    const [loading, setLoading] = useState(true);\n    const currentUser = auth.getUser();\n\n    useEffect(() => {\n        loadConversations();\n    }, []);\n\n    const loadConversations = async () => {\n        try {\n            const response = await api.get<Conversation[]>(\"/api/conversations\");\n            setConversations(response.data);\n        } catch (error) {\n            console.error(\"Failed to load conversations:\", error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex flex-col items-center justify-center py-20 space-y-4\">\n                <div className=\"w-12 h-12 border-4 border-primary-100 border-t-primary-600 rounded-full animate-spin\" />\n                <p className=\"text-surface-500 font-bold uppercase tracking-widest text-xs\">Loading conversations...</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"max-w-4xl mx-auto space-y-8 animate-in\">\n            <div className=\"flex items-center justify-between\">\n                <h1 className=\"text-3xl font-black text-surface-900 tracking-tight\">Messages</h1>\n                <button className=\"btn-primary px-6 py-2 rounded-full text-sm\">New Message</button>\n            </div>\n\n            <div className=\"grid grid-cols-1 gap-4\">\n                {conversations.length > 0 ? (\n                    conversations.map((conv) => {\n                        return (\n                            <Link\n                                key={conv.id}\n                                href={`/messages/${conv.id}`}\n                                className=\"card p-5 bg-white border-surface-100 hover:border-primary-200 hover:shadow-lg hover:-translate-y-0.5 transition-all flex items-center justify-between group\"\n                            >\n                                <div className=\"flex items-center space-x-5\">\n                                    <div className=\"relative\">\n                                        <div className=\"w-14 h-14 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-bold text-xl overflow-hidden border-2 border-white shadow-sm transition-transform group-hover:scale-105\">\n                                            {conv.otherUserProfilePicture ? (\n                                                <img\n                                                    src={conv.otherUserProfilePicture.startsWith('http') ? conv.otherUserProfilePicture : `http://localhost:8082${conv.otherUserProfilePicture}`}\n                                                    alt={conv.otherUserName}\n                                                    className=\"w-full h-full object-cover\"\n                                                />\n                                            ) : (\n                                                conv.otherUserName?.charAt(0).toUpperCase() || \"C\"\n                                            )}\n                                        </div>\n                                        <div className=\"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white rounded-full\"></div>\n                                    </div>\n\n                                    <div className=\"space-y-1\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <h3 className=\"font-bold text-surface-900 group-hover:text-primary-600 transition-colors\">\n                                                {conv.otherUserName}\n                                            </h3>\n                                            <span className=\"text-[10px] font-bold text-surface-400 uppercase tracking-widest\">â€¢ {new Date(conv.updatedAt).toLocaleDateString()}</span>\n                                        </div>\n                                        <p className=\"text-sm text-surface-500 line-clamp-1 max-w-md\">\n                                            {conv.lastMessage || \"No messages yet\"}\n                                        </p>\n                                    </div>\n                                </div>\n\n                                <div className=\"flex items-center space-x-4\">\n                                    {conv.unreadCount > 0 && (\n                                        <span className=\"bg-primary-600 text-white text-[10px] font-bold px-2 py-1 rounded-full min-w-[20px] text-center shadow-md\">\n                                            {conv.unreadCount}\n                                        </span>\n                                    )}\n                                    <span className=\"text-surface-300 group-hover:text-primary-400 transition-colors text-xl\">â€º</span>\n                                </div>\n                            </Link>\n                        );\n                    })\n                ) : (\n                    <div className=\"text-center py-32 bg-white rounded-3xl border border-dashed border-surface-200\">\n                        <span className=\"text-6xl block mb-6\">ðŸ’¬</span>\n                        <p className=\"text-surface-500 font-bold text-lg\">No conversations yet</p>\n                        <p className=\"text-surface-400 text-sm mt-2 mb-8\">Start messaging your friends to see them here!</p>\n                        <Link href=\"/discover\" className=\"btn-primary px-8 py-3 rounded-full\">Find People to Chat</Link>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;AAE9B;AACA;AAEA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,uOAAQ,EAAiB,EAAE;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uOAAQ,EAAC;IACvC,MAAM,cAAc,gJAAI,CAAC,OAAO;IAEhC,IAAA,wOAAS,EAAC;QACN;IACJ,GAAG,EAAE;IAEL,MAAM,oBAAoB;QACtB,IAAI;YACA,MAAM,WAAW,MAAM,kJAAG,CAAC,GAAG,CAAiB;YAC/C,iBAAiB,SAAS,IAAI;QAClC,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iCAAiC;QACnD,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAI,SAAS;QACT,qBACI,oQAAC;YAAI,WAAU;;8BACX,oQAAC;oBAAI,WAAU;;;;;;8BACf,oQAAC;oBAAE,WAAU;8BAA+D;;;;;;;;;;;;IAGxF;IAEA,qBACI,oQAAC;QAAI,WAAU;;0BACX,oQAAC;gBAAI,WAAU;;kCACX,oQAAC;wBAAG,WAAU;kCAAsD;;;;;;kCACpE,oQAAC;wBAAO,WAAU;kCAA6C;;;;;;;;;;;;0BAGnE,oQAAC;gBAAI,WAAU;0BACV,cAAc,MAAM,GAAG,IACpB,cAAc,GAAG,CAAC,CAAC;oBACf,qBACI,oQAAC,6LAAI;wBAED,MAAM,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE;wBAC5B,WAAU;;0CAEV,oQAAC;gCAAI,WAAU;;kDACX,oQAAC;wCAAI,WAAU;;0DACX,oQAAC;gDAAI,WAAU;0DACV,KAAK,uBAAuB,iBACzB,oQAAC;oDACG,KAAK,KAAK,uBAAuB,CAAC,UAAU,CAAC,UAAU,KAAK,uBAAuB,GAAG,CAAC,qBAAqB,EAAE,KAAK,uBAAuB,EAAE;oDAC5I,KAAK,KAAK,aAAa;oDACvB,WAAU;;;;;2DAGd,KAAK,aAAa,EAAE,OAAO,GAAG,iBAAiB;;;;;;0DAGvD,oQAAC;gDAAI,WAAU;;;;;;;;;;;;kDAGnB,oQAAC;wCAAI,WAAU;;0DACX,oQAAC;gDAAI,WAAU;;kEACX,oQAAC;wDAAG,WAAU;kEACT,KAAK,aAAa;;;;;;kEAEvB,oQAAC;wDAAK,WAAU;;4DAAmE;4DAAG,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;0DAErI,oQAAC;gDAAE,WAAU;0DACR,KAAK,WAAW,IAAI;;;;;;;;;;;;;;;;;;0CAKjC,oQAAC;gCAAI,WAAU;;oCACV,KAAK,WAAW,GAAG,mBAChB,oQAAC;wCAAK,WAAU;kDACX,KAAK,WAAW;;;;;;kDAGzB,oQAAC;wCAAK,WAAU;kDAA0E;;;;;;;;;;;;;uBAvCzF,KAAK,EAAE;;;;;gBA2CxB,mBAEA,oQAAC;oBAAI,WAAU;;sCACX,oQAAC;4BAAK,WAAU;sCAAsB;;;;;;sCACtC,oQAAC;4BAAE,WAAU;sCAAqC;;;;;;sCAClD,oQAAC;4BAAE,WAAU;sCAAqC;;;;;;sCAClD,oQAAC,6LAAI;4BAAC,MAAK;4BAAY,WAAU;sCAAqC;;;;;;;;;;;;;;;;;;;;;;;AAM9F"}}]
}