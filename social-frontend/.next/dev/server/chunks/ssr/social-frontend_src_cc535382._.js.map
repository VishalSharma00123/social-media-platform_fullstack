{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalsharma/Downloads/Social-Media-FullStack/social-frontend/src/components/PostCard.tsx"],"sourcesContent":["// components/PostCard.tsx\n\"use client\";\nimport { useState } from \"react\";\nimport { auth } from \"@/lib/auth\";\nimport { Post } from \"@/lib/types\";\nimport api from \"@/lib/api\";\n\ninterface Props {\n    post: Post;\n    onUpdate: (updatedPost: Post) => void;\n}\n\nexport default function PostCard({ post, onUpdate }: Props) {\n    const [comment, setComment] = useState(\"\");\n    const [showComments, setShowComments] = useState(false);\n    const currentUser = auth.getUser();\n\n    // ‚úÖ ADD THIS: Build full URL for media\n    const getMediaUrl = (path: string) => {\n        if (!path) return \"\";\n        if (path.startsWith(\"http\")) return path;\n        return `http://localhost:8082${path}`; // Post Service URL\n    };\n\n    const toggleLike = async () => {\n        // Optimistic Update\n        const originalPost = { ...post };\n        const isLiked = !post.isLiked;\n        const likesCount = isLiked ? post.likesCount + 1 : Math.max(0, post.likesCount - 1);\n\n        onUpdate({\n            ...post,\n            isLiked,\n            likesCount\n        });\n\n        try {\n            const endpoint = `/api/posts/${post.id}/like`;\n            const response = post.isLiked\n                ? await api.delete<Post>(endpoint)\n                : await api.post<Post>(endpoint);\n\n            // Update with actual data from server\n            onUpdate(response.data);\n        } catch (error) {\n            console.error(\"Failed to toggle like:\", error);\n            // Revert on error\n            onUpdate(originalPost);\n        }\n    };\n\n    const addComment = async () => {\n        if (!comment.trim() || !currentUser) return;\n\n        const originalPost = { ...post };\n        const newCommentText = comment;\n        setComment(\"\"); // Clear immediately\n\n        // Optimistic Update\n        const tempComment = {\n            id: `temp-${Date.now()}`,\n            userId: currentUser.id!,\n            username: currentUser.username!,\n            content: newCommentText,\n            createdAt: new Date().toISOString()\n        };\n\n        const updatedPost = {\n            ...post,\n            commentsCount: post.commentsCount + 1,\n            recentComments: [...(post.recentComments || []), tempComment]\n        };\n\n        onUpdate(updatedPost);\n\n        try {\n            const response = await api.post<Post>(`/api/posts/${post.id}/comments`, {\n                content: newCommentText,\n            });\n            // Update with actual data from server\n            onUpdate(response.data);\n        } catch (error) {\n            console.error(\"Failed to add comment:\", error);\n            // Revert on error\n            onUpdate(originalPost);\n            setComment(newCommentText); // Put text back so user doesn't lose it\n        }\n    };\n\n    // ‚úÖ FIX: Use post.images instead of post.imageUrls\n    const images = post.images || [];\n    const video = post.videoUrl;\n\n    return (\n        <div className=\"card mb-6 animate-in bg-white border-surface-200\">\n            {/* Header */}\n            <div className=\"p-4 flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                    <div className=\"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-bold overflow-hidden mr-3\">\n                        {post.userProfilePicture ? (\n                            <img\n                                src={getMediaUrl(post.userProfilePicture)}\n                                alt={post.username}\n                                className=\"w-full h-full object-cover\"\n                            />\n                        ) : (\n                            post.username.charAt(0).toUpperCase()\n                        )}\n                    </div>\n                    <div>\n                        <p className=\"font-bold text-surface-900 leading-tight hover:underline cursor-pointer\">\n                            {post.username}\n                        </p>\n                        <p className=\"text-[11px] font-medium text-surface-400 uppercase tracking-wider\">\n                            {new Date(post.createdAt).toLocaleDateString()} ‚Ä¢ {new Date(post.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                        </p>\n                    </div>\n                </div>\n                <button className=\"text-surface-400 hover:text-surface-600 p-1 rounded-full hover:bg-surface-50 transition-colors\">\n                    <span className=\"text-lg\">‚Ä¢‚Ä¢‚Ä¢</span>\n                </button>\n            </div>\n\n            {/* Content */}\n            <div className=\"px-4 pb-3\">\n                <p className=\"text-surface-800 leading-relaxed whitespace-pre-wrap\">{post.content}</p>\n            </div>\n\n            {/* ‚úÖ FIX: Images - use post.images and getMediaUrl */}\n            {images.length > 0 && (\n                <div className={`grid gap-1 mb-2 px-1 ${images.length > 1 ? 'grid-cols-2' : 'grid-cols-1'}`}>\n                    {images.map((url, idx) => (\n                        <img\n                            key={idx}\n                            src={getMediaUrl(url)}\n                            alt=\"Post content\"\n                            className={`w-full object-cover ${images.length === 1 ? 'max-h-[500px] rounded-lg' : 'h-48 rounded-md hover:opacity-95 transition-opacity'}`}\n                            onError={(e) => {\n                                console.error(\"Image failed to load:\", url);\n                                e.currentTarget.style.display = 'none';\n                            }}\n                        />\n                    ))}\n                </div>\n            )}\n\n            {/* ‚úÖ FIX: Video - use getMediaUrl */}\n            {video && (\n                <div className=\"px-1 mb-2\">\n                    <video controls className=\"w-full rounded-lg max-h-[500px] bg-black\">\n                        <source src={getMediaUrl(video)} />\n                    </video>\n                </div>\n            )}\n\n            {/* Actions */}\n            <div className=\"px-4 py-3 flex items-center justify-between border-t border-surface-50\">\n                <div className=\"flex items-center space-x-1\">\n                    <button\n                        onClick={toggleLike}\n                        className={`flex items-center space-x-2 px-3 py-1.5 rounded-full transition-all ${post.isLiked\n                            ? \"bg-red-50 text-red-600 font-bold\"\n                            : \"text-surface-600 hover:bg-red-50 hover:text-red-500\"\n                            }`}\n                    >\n                        <span className=\"text-lg\">{post.isLiked ? \"‚ù§Ô∏è\" : \"ü§ç\"}</span>\n                        <span className=\"text-sm\">{post.likesCount}</span>\n                    </button>\n\n                    <button\n                        onClick={() => setShowComments(!showComments)}\n                        className={`flex items-center space-x-2 px-3 py-1.5 rounded-full transition-all ${showComments\n                            ? \"bg-primary-50 text-primary-600 font-bold\"\n                            : \"text-surface-600 hover:bg-primary-50 hover:text-primary-600\"\n                            }`}\n                    >\n                        <span className=\"text-lg\">üí¨</span>\n                        <span className=\"text-sm\">{post.commentsCount}</span>\n                    </button>\n\n                    <button className=\"flex items-center space-x-2 text-surface-600 hover:bg-green-50 hover:text-green-600 px-3 py-1.5 rounded-full transition-all\">\n                        <span className=\"text-lg\">üîÅ</span>\n                        <span className=\"text-sm\">{post.sharesCount}</span>\n                    </button>\n                </div>\n\n                <button className=\"text-surface-400 hover:text-primary-600 p-2 rounded-full hover:bg-primary-50 transition-all\">\n                    <span>üîñ</span>\n                </button>\n            </div>\n\n            {/* Comments Section */}\n            {showComments && (\n                <div className=\"px-4 pb-4 border-t border-surface-50 bg-surface-50/30\">\n                    <div className=\"pt-4 space-y-3\">\n                        {post.recentComments?.map((c) => (\n                            <div key={c.id} className=\"flex space-x-3 group\">\n                                <div className=\"w-8 h-8 rounded-full bg-surface-200 flex-shrink-0 flex items-center justify-center text-[10px] font-bold\">\n                                    {c.username.charAt(0).toUpperCase()}\n                                </div>\n                                <div className=\"bg-white px-3 py-2 rounded-2xl rounded-tl-none border border-surface-100 shadow-sm flex-grow\">\n                                    <p className=\"text-xs font-bold text-surface-900 mb-0.5\">{c.username}</p>\n                                    <p className=\"text-[13px] text-surface-700\">{c.content}</p>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className=\"flex mt-4 items-center space-x-2 bg-white p-1 pl-3 rounded-full border border-surface-200 focus-within:ring-2 focus-within:ring-primary-100 transition-all\">\n                        <input\n                            value={comment}\n                            onChange={(e) => setComment(e.target.value)}\n                            placeholder=\"Write a comment...\"\n                            className=\"flex-grow bg-transparent border-none focus:ring-0 text-sm py-1.5\"\n                        />\n                        <button\n                            onClick={addComment}\n                            disabled={!comment.trim()}\n                            className=\"bg-primary-600 text-white p-2 rounded-full hover:bg-primary-700 disabled:bg-surface-200 transition-colors\"\n                        >\n                            <span className=\"block scale-75\">‚û§</span>\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;AAE1B;AACA;AAEA;AAJA;;;;;AAWe,SAAS,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAS;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uOAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,uOAAQ,EAAC;IACjD,MAAM,cAAc,gJAAI,CAAC,OAAO;IAEhC,uCAAuC;IACvC,MAAM,cAAc,CAAC;QACjB,IAAI,CAAC,MAAM,OAAO;QAClB,IAAI,KAAK,UAAU,CAAC,SAAS,OAAO;QACpC,OAAO,CAAC,qBAAqB,EAAE,MAAM,EAAE,mBAAmB;IAC9D;IAEA,MAAM,aAAa;QACf,oBAAoB;QACpB,MAAM,eAAe;YAAE,GAAG,IAAI;QAAC;QAC/B,MAAM,UAAU,CAAC,KAAK,OAAO;QAC7B,MAAM,aAAa,UAAU,KAAK,UAAU,GAAG,IAAI,KAAK,GAAG,CAAC,GAAG,KAAK,UAAU,GAAG;QAEjF,SAAS;YACL,GAAG,IAAI;YACP;YACA;QACJ;QAEA,IAAI;YACA,MAAM,WAAW,CAAC,WAAW,EAAE,KAAK,EAAE,CAAC,KAAK,CAAC;YAC7C,MAAM,WAAW,KAAK,OAAO,GACvB,MAAM,kJAAG,CAAC,MAAM,CAAO,YACvB,MAAM,kJAAG,CAAC,IAAI,CAAO;YAE3B,sCAAsC;YACtC,SAAS,SAAS,IAAI;QAC1B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,kBAAkB;YAClB,SAAS;QACb;IACJ;IAEA,MAAM,aAAa;QACf,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,aAAa;QAErC,MAAM,eAAe;YAAE,GAAG,IAAI;QAAC;QAC/B,MAAM,iBAAiB;QACvB,WAAW,KAAK,oBAAoB;QAEpC,oBAAoB;QACpB,MAAM,cAAc;YAChB,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB,QAAQ,YAAY,EAAE;YACtB,UAAU,YAAY,QAAQ;YAC9B,SAAS;YACT,WAAW,IAAI,OAAO,WAAW;QACrC;QAEA,MAAM,cAAc;YAChB,GAAG,IAAI;YACP,eAAe,KAAK,aAAa,GAAG;YACpC,gBAAgB;mBAAK,KAAK,cAAc,IAAI,EAAE;gBAAG;aAAY;QACjE;QAEA,SAAS;QAET,IAAI;YACA,MAAM,WAAW,MAAM,kJAAG,CAAC,IAAI,CAAO,CAAC,WAAW,EAAE,KAAK,EAAE,CAAC,SAAS,CAAC,EAAE;gBACpE,SAAS;YACb;YACA,sCAAsC;YACtC,SAAS,SAAS,IAAI;QAC1B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,kBAAkB;YAClB,SAAS;YACT,WAAW,iBAAiB,wCAAwC;QACxE;IACJ;IAEA,mDAAmD;IACnD,MAAM,SAAS,KAAK,MAAM,IAAI,EAAE;IAChC,MAAM,QAAQ,KAAK,QAAQ;IAE3B,qBACI,oQAAC;QAAI,WAAU;;0BAEX,oQAAC;gBAAI,WAAU;;kCACX,oQAAC;wBAAI,WAAU;;0CACX,oQAAC;gCAAI,WAAU;0CACV,KAAK,kBAAkB,iBACpB,oQAAC;oCACG,KAAK,YAAY,KAAK,kBAAkB;oCACxC,KAAK,KAAK,QAAQ;oCAClB,WAAU;;;;;2CAGd,KAAK,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;0CAG3C,oQAAC;;kDACG,oQAAC;wCAAE,WAAU;kDACR,KAAK,QAAQ;;;;;;kDAElB,oQAAC;wCAAE,WAAU;;4CACR,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;4CAAG;4CAAI,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB,CAAC,EAAE,EAAE;gDAAE,MAAM;gDAAW,QAAQ;4CAAU;;;;;;;;;;;;;;;;;;;kCAIpJ,oQAAC;wBAAO,WAAU;kCACd,cAAA,oQAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAKlC,oQAAC;gBAAI,WAAU;0BACX,cAAA,oQAAC;oBAAE,WAAU;8BAAwD,KAAK,OAAO;;;;;;;;;;;YAIpF,OAAO,MAAM,GAAG,mBACb,oQAAC;gBAAI,WAAW,CAAC,qBAAqB,EAAE,OAAO,MAAM,GAAG,IAAI,gBAAgB,eAAe;0BACtF,OAAO,GAAG,CAAC,CAAC,KAAK,oBACd,oQAAC;wBAEG,KAAK,YAAY;wBACjB,KAAI;wBACJ,WAAW,CAAC,oBAAoB,EAAE,OAAO,MAAM,KAAK,IAAI,6BAA6B,uDAAuD;wBAC5I,SAAS,CAAC;4BACN,QAAQ,KAAK,CAAC,yBAAyB;4BACvC,EAAE,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG;wBACpC;uBAPK;;;;;;;;;;YAcpB,uBACG,oQAAC;gBAAI,WAAU;0BACX,cAAA,oQAAC;oBAAM,QAAQ;oBAAC,WAAU;8BACtB,cAAA,oQAAC;wBAAO,KAAK,YAAY;;;;;;;;;;;;;;;;0BAMrC,oQAAC;gBAAI,WAAU;;kCACX,oQAAC;wBAAI,WAAU;;0CACX,oQAAC;gCACG,SAAS;gCACT,WAAW,CAAC,oEAAoE,EAAE,KAAK,OAAO,GACxF,qCACA,uDACA;;kDAEN,oQAAC;wCAAK,WAAU;kDAAW,KAAK,OAAO,GAAG,OAAO;;;;;;kDACjD,oQAAC;wCAAK,WAAU;kDAAW,KAAK,UAAU;;;;;;;;;;;;0CAG9C,oQAAC;gCACG,SAAS,IAAM,gBAAgB,CAAC;gCAChC,WAAW,CAAC,oEAAoE,EAAE,eAC5E,6CACA,+DACA;;kDAEN,oQAAC;wCAAK,WAAU;kDAAU;;;;;;kDAC1B,oQAAC;wCAAK,WAAU;kDAAW,KAAK,aAAa;;;;;;;;;;;;0CAGjD,oQAAC;gCAAO,WAAU;;kDACd,oQAAC;wCAAK,WAAU;kDAAU;;;;;;kDAC1B,oQAAC;wCAAK,WAAU;kDAAW,KAAK,WAAW;;;;;;;;;;;;;;;;;;kCAInD,oQAAC;wBAAO,WAAU;kCACd,cAAA,oQAAC;sCAAK;;;;;;;;;;;;;;;;;YAKb,8BACG,oQAAC;gBAAI,WAAU;;kCACX,oQAAC;wBAAI,WAAU;kCACV,KAAK,cAAc,EAAE,IAAI,CAAC,kBACvB,oQAAC;gCAAe,WAAU;;kDACtB,oQAAC;wCAAI,WAAU;kDACV,EAAE,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;kDAErC,oQAAC;wCAAI,WAAU;;0DACX,oQAAC;gDAAE,WAAU;0DAA6C,EAAE,QAAQ;;;;;;0DACpE,oQAAC;gDAAE,WAAU;0DAAgC,EAAE,OAAO;;;;;;;;;;;;;+BANpD,EAAE,EAAE;;;;;;;;;;kCAYtB,oQAAC;wBAAI,WAAU;;0CACX,oQAAC;gCACG,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gCAC1C,aAAY;gCACZ,WAAU;;;;;;0CAEd,oQAAC;gCACG,SAAS;gCACT,UAAU,CAAC,QAAQ,IAAI;gCACvB,WAAU;0CAEV,cAAA,oQAAC;oCAAK,WAAU;8CAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7D"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalsharma/Downloads/Social-Media-FullStack/social-frontend/src/app/%28app%29/profile/%5Busername%5D/page.tsx"],"sourcesContent":["// app/(app)/profile/[username]/page.tsx\n\"use client\";\nimport { useEffect, useState, ChangeEvent } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport api from \"@/lib/api\";\nimport { User, Post, PageResponse, Conversation } from \"@/lib/types\";\nimport PostCard from \"@/components/PostCard\";\nimport { auth } from \"@/lib/auth\";\nimport Link from \"next/link\";\n\nexport default function ProfilePage() {\n    const { username } = useParams<{ username: string }>();\n    const router = useRouter();\n    const [profile, setProfile] = useState<User | null>(null);\n    const [posts, setPosts] = useState<Post[]>([]);\n    const [loading, setLoading] = useState(true);\n    const currentUser = auth.getUser();\n    const isOwnProfile = currentUser?.username === username;\n\n    const [activeTab, setActiveTab] = useState<'posts' | 'media' | 'likes'>('posts');\n    const [postsLoading, setPostsLoading] = useState(false);\n\n    const [modalConfig, setModalConfig] = useState<{\n        isOpen: boolean;\n        title: string;\n        users: User[];\n        loading: boolean;\n    }>({\n        isOpen: false,\n        title: \"\",\n        users: [],\n        loading: false\n    });\n\n    const [isEditing, setIsEditing] = useState(false);\n    const [editForm, setEditForm] = useState({\n        fullName: \"\",\n        bio: \"\"\n    });\n    const [updating, setUpdating] = useState(false);\n\n    const getMediaUrl = (path: string) => {\n        if (!path) return \"\";\n        if (path.startsWith(\"http\")) return path;\n        return `http://localhost:8081${path}`; // User Service URL\n    };\n\n    useEffect(() => {\n        loadProfile();\n    }, [username]);\n\n    useEffect(() => {\n        if (profile?.id) {\n            loadUserPosts();\n        }\n    }, [profile?.id, activeTab]);\n\n    const loadProfile = async () => {\n        try {\n            const response = await api.get<User>(`/api/users/profile/${username}`);\n            setProfile(response.data);\n        } catch (error) {\n            console.error(\"Failed to load profile:\", error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const loadUserPosts = async () => {\n        if (!profile?.id) return;\n        setPostsLoading(true);\n        try {\n            let endpoint = `/api/posts/user/${profile.id}`;\n            if (activeTab === 'media') {\n                endpoint = `/api/posts/user/${profile.id}/media`;\n            } else if (activeTab === 'likes') {\n                endpoint = `/api/posts/user/${profile.id}/liked`;\n            }\n\n            const response = await api.get<PageResponse<Post>>(endpoint, {\n                params: { page: 0, size: 20 }\n            });\n            setPosts(response.data.content);\n        } catch (error) {\n            console.error(`Failed to load ${activeTab}:`, error);\n        } finally {\n            setPostsLoading(false);\n        }\n    };\n\n    const handleFollow = async () => {\n        if (!profile) return;\n\n        try {\n            await api.post(`/api/users/follow/${profile.id}`);\n            loadProfile();\n        } catch (error) {\n            console.error(\"Failed to follow:\", error);\n        }\n    };\n\n    const handleUnfollow = async () => {\n        if (!profile) return;\n\n        try {\n            await api.post(`/api/users/unfollow/${profile.id}`);\n            loadProfile();\n        } catch (error) {\n            console.error(\"Failed to unfollow:\", error);\n        }\n    };\n\n    const handleMessageClick = async () => {\n        if (!profile) return;\n        try {\n            const response = await api.get<Conversation>(`/api/conversations/${profile.id}`);\n            router.push(`/messages/${response.data.id}`);\n        } catch (error) {\n            console.error(\"Failed to start conversation:\", error);\n        }\n    };\n\n    const handleProfilePictureUpload = async (e: ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file) return;\n\n        const formData = new FormData();\n        formData.append(\"file\", file);\n\n        try {\n            await api.post(\"/api/users/profile/picture\", formData, {\n                headers: { \"Content-Type\": \"multipart/form-data\" },\n            });\n            loadProfile();\n        } catch (error) {\n            console.error(\"Failed to upload picture:\", error);\n        }\n    };\n\n    const fetchUserList = async (type: 'followers' | 'following') => {\n        if (!profile) return;\n        setModalConfig(prev => ({ ...prev, isOpen: true, title: type.charAt(0).toUpperCase() + type.slice(1), loading: true, users: [] }));\n        try {\n            const res = await api.get<User[]>(`/api/users/${profile.id}/${type}`);\n            setModalConfig(prev => ({ ...prev, users: res.data, loading: false }));\n        } catch (error) {\n            console.error(`Failed to fetch ${type}:`, error);\n            setModalConfig(prev => ({ ...prev, loading: false }));\n        }\n    };\n\n    const handleUpdateProfile = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setUpdating(true);\n        try {\n            const response = await api.put<User>(\"/api/users/profile/update\", editForm);\n            setProfile(response.data);\n            setIsEditing(false);\n        } catch (error) {\n            console.error(\"Failed to update profile:\", error);\n        } finally {\n            setUpdating(false);\n        }\n    };\n\n    const openEditModal = () => {\n        if (!profile) return;\n        setEditForm({\n            fullName: profile.fullName || \"\",\n            bio: profile.bio || \"\"\n        });\n        setIsEditing(true);\n    };\n\n    if (loading) {\n        return <div className=\"text-center py-8\">Loading profile...</div>;\n    }\n\n    if (!profile) {\n        return <div className=\"text-center py-8\">Profile not found</div>;\n    }\n\n    return (\n        <div className=\"max-w-4xl mx-auto space-y-8\">\n            {/* Profile Header Card */}\n            <div className=\"card shadow-md bg-white border-surface-200 overflow-hidden\">\n                {/* Cover Photo Placeholder */}\n                <div className=\"h-48 bg-gradient-to-r from-primary-400 to-blue-500 relative\" />\n\n                <div className=\"px-8 pb-8\">\n                    <div className=\"relative flex justify-between items-end -mt-16 mb-6\">\n                        <div className=\"relative group\">\n                            <div className=\"w-32 h-32 rounded-full border-4 border-white shadow-lg bg-surface-100 flex items-center justify-center text-3xl font-bold text-surface-400 overflow-hidden\">\n                                {profile.profilePicture ? (\n                                    <img\n                                        src={profile.profilePicture}\n                                        alt={profile.username}\n                                        className=\"w-full h-full object-cover\"\n                                    />\n                                ) : (\n                                    profile.username.charAt(0).toUpperCase()\n                                )}\n                            </div>\n                            {isOwnProfile && (\n                                <label className=\"absolute bottom-1 right-1 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 shadow-md transition-all scale-90 group-hover:scale-100\">\n                                    <input\n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        onChange={handleProfilePictureUpload}\n                                        className=\"hidden\"\n                                    />\n                                    <span className=\"text-sm\">üì∑</span>\n                                </label>\n                            )}\n                        </div>\n\n                        {!isOwnProfile && (\n                            <div className=\"flex space-x-3\">\n                                <button\n                                    onClick={handleMessageClick}\n                                    className=\"px-6 py-2.5 bg-white border-2 border-primary-600 text-primary-600 rounded-full font-bold hover:bg-primary-50 transition-all\"\n                                >\n                                    Message\n                                </button>\n                                <button\n                                    onClick={profile.isFollowing ? handleUnfollow : handleFollow}\n                                    className={`px-8 py-2.5 rounded-full font-bold transition-all shadow-sm ${profile.isFollowing\n                                        ? \"bg-surface-100 text-surface-700 hover:bg-surface-200\"\n                                        : \"bg-primary-600 text-white hover:bg-primary-700 hover:shadow-md\"\n                                        }`}\n                                >\n                                    {profile.isFollowing ? \"Unfollow\" : \"Follow\"}\n                                </button>\n                            </div>\n                        )}\n\n                        {isOwnProfile && (\n                            <button\n                                onClick={openEditModal}\n                                className=\"px-6 py-2 border-2 border-surface-200 text-surface-700 rounded-full font-bold hover:bg-surface-50 transition-all\"\n                            >\n                                Edit Profile\n                            </button>\n                        )}\n                    </div>\n\n\n                    <div className=\"space-y-1\">\n                        <h1 className=\"text-3xl font-black text-surface-900\">\n                            {profile.fullName || profile.username}\n                        </h1>\n                        <p className=\"text-surface-500 font-medium tracking-tight\">@{profile.username}</p>\n                    </div>\n\n                    {profile.bio && (\n                        <p className=\"mt-4 text-surface-700 leading-relaxed max-w-2xl\">\n                            {profile.bio}\n                        </p>\n                    )}\n\n                    <div className=\"flex space-x-8 mt-6 pt-6 border-t border-surface-50\">\n                        <div\n                            className=\"flex items-center space-x-2 cursor-pointer hover:bg-surface-50 px-3 py-1.5 rounded-xl transition-all\"\n                            onClick={() => fetchUserList('followers')}\n                        >\n                            <span className=\"text-xl font-black text-surface-900\">{profile.followersCount}</span>\n                            <span className=\"text-sm font-semibold text-surface-500 uppercase tracking-widest\">Followers</span>\n                        </div>\n                        <div\n                            className=\"flex items-center space-x-2 cursor-pointer hover:bg-surface-50 px-3 py-1.5 rounded-xl transition-all\"\n                            onClick={() => fetchUserList('following')}\n                        >\n                            <span className=\"text-xl font-black text-surface-900\">{profile.followingCount}</span>\n                            <span className=\"text-sm font-semibold text-surface-500 uppercase tracking-widest\">Following</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"space-y-6\">\n                <div className=\"flex items-center space-x-4 border-b border-surface-100\">\n                    <button\n                        onClick={() => setActiveTab('posts')}\n                        className={`px-4 py-3 border-b-2 text-sm uppercase tracking-widest font-black transition-all ${activeTab === 'posts'\n                            ? \"border-primary-600 text-primary-600\"\n                            : \"border-transparent text-surface-400 hover:text-surface-600\"\n                            }`}\n                    >\n                        Posts\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('media')}\n                        className={`px-4 py-3 border-b-2 text-sm uppercase tracking-widest font-black transition-all ${activeTab === 'media'\n                            ? \"border-primary-600 text-primary-600\"\n                            : \"border-transparent text-surface-400 hover:text-surface-600\"\n                            }`}\n                    >\n                        Media\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('likes')}\n                        className={`px-4 py-3 border-b-2 text-sm uppercase tracking-widest font-black transition-all ${activeTab === 'likes'\n                            ? \"border-primary-600 text-primary-600\"\n                            : \"border-transparent text-surface-400 hover:text-surface-600\"\n                            }`}\n                    >\n                        Likes\n                    </button>\n                </div>\n\n                <div className=\"space-y-4\">\n                    {postsLoading ? (\n                        <div className=\"flex flex-col items-center justify-center py-20 space-y-4\">\n                            <div className=\"w-10 h-10 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin\" />\n                            <p className=\"text-xs font-black text-surface-400 tracking-[0.2em] uppercase\">Loading {activeTab}...</p>\n                        </div>\n                    ) : posts.length > 0 ? (\n                        posts.map((post) => (\n                            <PostCard\n                                key={post.id}\n                                post={post}\n                                onUpdate={(updated) => {\n                                    setPosts((prev) => {\n                                        // If we are on the likes tab and the post was unliked, remove it\n                                        if (activeTab === 'likes' && !updated.isLiked) {\n                                            return prev.filter(p => p.id !== updated.id);\n                                        }\n                                        // If we are on the media tab and media was removed (though unlikely via this UI)\n                                        if (activeTab === 'media' && !updated.images?.length && !updated.videoUrl) {\n                                            return prev.filter(p => p.id !== updated.id);\n                                        }\n                                        return prev.map((p) => (p.id === updated.id ? updated : p));\n                                    });\n                                }}\n                            />\n                        ))\n                    ) : (\n                        <div className=\"text-center py-20 bg-white rounded-[2rem] border-2 border-dashed border-surface-100\">\n                            <span className=\"text-5xl block mb-4\">\n                                {activeTab === 'posts' ? 'üì≠' : activeTab === 'media' ? 'üñºÔ∏è' : '‚ù§Ô∏è'}\n                            </span>\n                            <p className=\"text-surface-500 font-bold text-lg\">\n                                {activeTab === 'posts' ? 'No posts yet' : activeTab === 'media' ? 'No media found' : 'No liked posts yet'}\n                            </p>\n                            <p className=\"text-surface-400 text-sm mt-1 font-medium italic\">\n                                {isOwnProfile ? \"Time to share something with the world!\" : `@${username} hasn't shared anything here.`}\n                            </p>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Modal for User List */}\n            {modalConfig.isOpen && (\n                <div\n                    className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 animate-in fade-in\"\n                    onClick={() => setModalConfig(prev => ({ ...prev, isOpen: false }))}\n                >\n                    <div className=\"absolute inset-0 bg-surface-900/40 backdrop-blur-sm\" />\n                    <div\n                        className=\"relative bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95\"\n                        onClick={e => e.stopPropagation()}\n                    >\n                        <div className=\"px-6 py-4 border-b border-surface-100 flex items-center justify-between bg-white sticky top-0\">\n                            <h3 className=\"text-lg font-black text-surface-900 tracking-tight\">{modalConfig.title}</h3>\n                            <button\n                                onClick={() => setModalConfig(prev => ({ ...prev, isOpen: false }))}\n                                className=\"p-2 hover:bg-surface-100 rounded-full transition-colors text-surface-400 hover:text-surface-600\"\n                            >\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                                </svg>\n                            </button>\n                        </div>\n\n                        <div className=\"max-h-[60vh] overflow-y-auto px-2 py-2 bg-surface-50/30\">\n                            {modalConfig.loading ? (\n                                <div className=\"flex flex-col items-center justify-center py-12 space-y-4\">\n                                    <div className=\"w-8 h-8 border-3 border-primary-200 border-t-primary-600 rounded-full animate-spin\" />\n                                    <p className=\"text-xs font-bold text-surface-400 tracking-widest uppercase\">Loading...</p>\n                                </div>\n                            ) : modalConfig.users.length > 0 ? (\n                                <div className=\"space-y-1\">\n                                    {modalConfig.users.map(user => (\n                                        <div\n                                            key={user.id}\n                                            onClick={() => {\n                                                setModalConfig(prev => ({ ...prev, isOpen: false }));\n                                                router.push(`/profile/${user.username}`);\n                                            }}\n                                            className=\"flex items-center justify-between p-3 rounded-2xl hover:bg-white hover:shadow-md transition-all cursor-pointer group\"\n                                        >\n                                            <div className=\"flex items-center space-x-4\">\n                                                <div className=\"w-12 h-12 rounded-full bg-primary-100 border-2 border-white shadow-sm overflow-hidden flex items-center justify-center text-primary-600 font-bold\">\n                                                    {user.profilePicture ? (\n                                                        <img\n                                                            src={getMediaUrl(user.profilePicture)}\n                                                            alt={user.username}\n                                                            className=\"w-full h-full object-cover\"\n                                                        />\n                                                    ) : (\n                                                        user.username.charAt(0).toUpperCase()\n                                                    )}\n                                                </div>\n                                                <div className=\"space-y-0.5\">\n                                                    <p className=\"font-bold text-surface-900 group-hover:text-primary-600 transition-colors\">\n                                                        {user.fullName || user.username}\n                                                    </p>\n                                                    <p className=\"text-xs text-surface-500 font-medium tracking-tight\">@{user.username}</p>\n                                                </div>\n                                            </div>\n                                            <span className=\"text-surface-300 group-hover:text-primary-400 transition-colors mr-2\">‚Ä∫</span>\n                                        </div>\n                                    ))}\n                                </div>\n                            ) : (\n                                <div className=\"text-center py-12 space-y-2\">\n                                    <span className=\"text-4xl block mb-2\">üë§</span>\n                                    <p className=\"text-surface-500 font-bold\">No {modalConfig.title.toLowerCase()} yet</p>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Edit Profile Modal */}\n            {isEditing && (\n                <div\n                    className=\"fixed inset-0 z-[110] flex items-center justify-center p-4 animate-in fade-in\"\n                    onClick={() => setIsEditing(false)}\n                >\n                    <div className=\"absolute inset-0 bg-surface-900/60 backdrop-blur-md\" />\n                    <div\n                        className=\"relative bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95\"\n                        onClick={e => e.stopPropagation()}\n                    >\n                        <form onSubmit={handleUpdateProfile} className=\"flex flex-col h-full\">\n                            <div className=\"px-8 py-6 border-b border-surface-100 flex items-center justify-between bg-white/80 backdrop-blur-sm sticky top-0 z-10\">\n                                <div>\n                                    <h3 className=\"text-2xl font-black text-surface-900 tracking-tight\">Edit Profile</h3>\n                                    <p className=\"text-sm font-medium text-surface-400\">Update your public information</p>\n                                </div>\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setIsEditing(false)}\n                                    className=\"p-2.5 hover:bg-surface-100 rounded-full transition-all text-surface-400 hover:text-surface-900 hover:rotate-90 duration-300\"\n                                >\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2.5} d=\"M6 18L18 6M6 6l12 12\" />\n                                    </svg>\n                                </button>\n                            </div>\n\n                            <div className=\"p-8 space-y-8 bg-surface-50/30\">\n                                <div className=\"space-y-3\">\n                                    <label className=\"text-xs font-black text-surface-400 uppercase tracking-[0.2em] ml-1\">Full Name</label>\n                                    <input\n                                        autoFocus\n                                        type=\"text\"\n                                        value={editForm.fullName}\n                                        onChange={e => setEditForm(prev => ({ ...prev, fullName: e.target.value }))}\n                                        className=\"w-full bg-white border-2 border-surface-100 rounded-2xl px-6 py-4 text-surface-900 font-bold placeholder-surface-300 focus:border-primary-500 focus:ring-0 transition-all shadow-sm focus:shadow-md\"\n                                        placeholder=\"Add your full name...\"\n                                    />\n                                </div>\n\n                                <div className=\"space-y-3\">\n                                    <label className=\"text-xs font-black text-surface-400 uppercase tracking-[0.2em] ml-1\">Bio</label>\n                                    <textarea\n                                        value={editForm.bio}\n                                        onChange={e => setEditForm(prev => ({ ...prev, bio: e.target.value }))}\n                                        rows={4}\n                                        className=\"w-full bg-white border-2 border-surface-100 rounded-2xl px-6 py-4 text-surface-900 font-medium placeholder-surface-300 focus:border-primary-500 focus:ring-0 transition-all shadow-sm focus:shadow-md resize-none\"\n                                        placeholder=\"Tell us a bit about yourself...\"\n                                    />\n                                    <p className=\"text-[10px] text-surface-400 font-bold text-right mr-1 tracking-wider uppercase\">\n                                        {editForm.bio.length} / 160\n                                    </p>\n                                </div>\n                            </div>\n\n                            <div className=\"px-8 py-6 bg-white border-t border-surface-100 flex items-center justify-end space-x-4\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setIsEditing(false)}\n                                    className=\"px-8 py-3.5 text-sm font-black text-surface-600 hover:text-surface-900 hover:bg-surface-50 rounded-2xl transition-all tracking-wider uppercase\"\n                                >\n                                    Cancel\n                                </button>\n                                <button\n                                    type=\"submit\"\n                                    disabled={updating}\n                                    className=\"px-10 py-3.5 bg-primary-600 text-white rounded-2xl font-black text-sm hover:bg-primary-700 hover:shadow-lg hover:shadow-primary-600/20 active:scale-95 disabled:bg-surface-200 transition-all tracking-wider uppercase flex items-center space-x-2\"\n                                >\n                                    {updating ? (\n                                        <>\n                                            <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                                            <span>Saving...</span>\n                                        </>\n                                    ) : (\n                                        <span>Save Changes</span>\n                                    )}\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\n"],"names":[],"mappings":"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"}}]
}